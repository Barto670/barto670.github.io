// Copyright 2023, Bartek Skorecki, All rights reserved.


skills = [
                { name:'HTML',           dateStarted: '2018-01-01' ,     color:'#FF572220' ,     imageLink:'./images/skills/html.png'},
                { name:'CSS/SCSS',       dateStarted: '2018-01-01',      color:'#2299F820',      imageLink:'./images/skills/css.png'},
                { name:'JavaScript',     dateStarted: '2019-01-01',      color:'#D3B62A20',      imageLink:'./images/skills/js.png'},
                { name:'TypeScript',     dateStarted: '2020-01-01',      color:'#2299F820',      imageLink:'./images/skills/ts.png'},
                { name:'Python',         dateStarted: '2020-01-01',      color:'#356F9F20',      imageLink:'./images/skills/python.png'},
                { name:'Angular',        dateStarted: '2021-01-01',      color:'#C3002F20',      imageLink:'./images/skills/angular.png'},
                // { name:'Bootstrap',      dateStarted: '2021-01-01',      color:'#7C11F820',      imageLink:'./images/skills/bootstrap.png'}, 
                { name:'Java',           dateStarted: '2021-01-01',      color:'#778EA320',      imageLink:'./images/skills/java.png'},
                { name:'SQL',            dateStarted: '2022-01-01',      color:'#00BCF220',      imageLink:'./images/skills/sql.png'},
                { name:'C#',             dateStarted: '2022-01-01',      color:'#39009120',      imageLink:'./images/skills/csharp.png'},
                { name:'C++',            dateStarted: '2022-01-01',      color:'#00599C20',      imageLink:'./images/skills/c++.png'},
                { name:'Arduino',        dateStarted: '2022-01-01',      color:'#2D929620',      imageLink:'./images/skills/arduino.png'},
                { name:'Android',        dateStarted: '2023-01-01',      color:'#98C42520',      imageLink:'./images/skills/android.png'},
                { name:'C',              dateStarted: '2023-01-01',      color:'#00599C20',      imageLink:'./images/skills/c.png'},
        ]

projects = [
                { name:'CS2 Stash Enhancer',              statusColor:'green' ,       bigImagesrc:'./images/projects/cs2stashenhancerlong.jpg',       smallImagesrc: './images/projects/cs2stashenhancersmall.png' ,      status:'Online' ,      tags:['Extension','HTML','JavaScript'],        redirectionURLStyle:'flex',   redirectionURL:'https://chromewebstore.google.com/detail/cs2-stash-enhancer/foacepfkmbckfdnbgmphekpbamedhmjj?hl=en',       expandURL:'' ,     description:'Browser Extension for a video game called Counter Strike 2. This extension works on the website csgostash.com and gives any user an experience with an expanded libary of useful features.'},
                { name:'Online Shop Website',             statusColor:'orange' ,      bigImagesrc:'./images/projects/dashShopBig.jpg',               smallImagesrc: './images/projects/dashShopSmall.png' ,              status:'Prototype' ,   tags:['HTML','CSS','JavaScript'],              redirectionURLStyle:'none',   redirectionURL:'',                                                                                                         expandURL:'' ,     description:"A sample website that was created as part of the portfolio. This website demonstrates how an online shop website could function both from the company's & customer's point of view."},
                { name:'UL Student Guide',                statusColor:'orange' ,      bigImagesrc:'./images/projects/studentguideBig.jpg',           smallImagesrc: './images/projects/studentguideSmall.png' ,          status:'Prototype' ,   tags:['Android','Application','Java'],         redirectionURLStyle:'none',   redirectionURL:'',                                                                                                         expandURL:'' ,     description:'A project made for final year of my Masters. This application is a student guide that is targetted towards new & erasmus students to get familiar with the UL Campus.'},
                { name:'DoneDeal Discord Bot',            statusColor:'orange' ,      bigImagesrc:'./images/projects/donedealBig.jpg',               smallImagesrc: './images/projects/donedealSmall.png' ,              status:'Prototype' ,   tags:['Bot','Discord','Python'],               redirectionURLStyle:'none',   redirectionURL:'',                                                                                                         expandURL:'' ,     description:'A bot made for a motor marketplace DoneDeal.ie made in python. Get discord notifications on cars based on the inputted filters. Messages are sent to a selected discord channel when a new car listing is created.'},
                { name:'GLI Academy',                     statusColor:'orange' ,      bigImagesrc:'./images/projects/gliAcademyBig.jpeg',            smallImagesrc: './images/projects/gliAcademySmall.png' ,            status:'Prototype' ,   tags:['HTML','Angular','TypeScript'],          redirectionURLStyle:'none',   redirectionURL:'',                                                                                                         expandURL:'' ,     description:'A project made for final year of my Bachelors. Website allows users to learn about the meaning and implementation of various Globalisation, Localisation and Internationalisation concepts.'},
                { name:'yt-dlp User Interface',           statusColor:'orange' ,      bigImagesrc:'./images/projects/ytdlpBig.jpg',                  smallImagesrc: './images/projects/ytdlpSmall.png' ,                 status:'Prototype' ,   tags:['Batchfile','Extension','JavaScript'],   redirectionURLStyle:'none',   redirectionURL:'',                                                                                                         expandURL:'' ,     description:'A project introducing a user interface for yt-dlp. Allows to use yt-dlp in as a windows program and also as a browser extension.'},
]
 

photos = [
    { name:'EVENING DROPLETS',          imagesrc:'./images/photography/photo1.jpg',        redirectionURL: 'https://www.flickr.com/photos/198328132@N07/53274008392',   cameraImage: './images/icons/xt-5.png',  lensImage:'./images/icons/meike60mm.png',           camera:'Fujifilm XT-5',     lens:'Meike 60mm f2.8 RF Macro',        aperature : 'f/2.8',    focalLenght:'60.0 mm',    iso:'125' },
    { name:'ORANGE GLOW',               imagesrc:'./images/photography/photo2.jpg',        redirectionURL: 'https://www.flickr.com/photos/198328132@N07/53006264691',   cameraImage: './images/icons/xt-5.png',  lensImage:'./images/icons/fujixf18-55.png',         camera:'Fujifilm XT-5',     lens:'Fujifilm XF18-55mm F2.8-4 R LM',  aperature : 'f/4.0',    focalLenght:'55.0 mm',    iso:'250' },
    { name:'FALLING PETALS',            imagesrc:'./images/photography/photo3.jpg',        redirectionURL: 'https://www.flickr.com/photos/198328132@N07/53002530227',   cameraImage: './images/icons/xt-5.png',  lensImage:'./images/icons/meike60mm.png',           camera:'Fujifilm XT-5',     lens:'Meike 60mm f2.8 RF Macro',        aperature : 'f/2.8',    focalLenght:'60.0 mm',    iso:'125' },
    { name:'BLACK WATCH',               imagesrc:'./images/photography/photo4.jpg',        redirectionURL: 'https://www.flickr.com/photos/198328132@N07/53005434241',   cameraImage: './images/icons/xt-5.png',  lensImage:'./images/icons/meike60mm.png',           camera:'Fujifilm XT-5',     lens:'Meike 60mm f2.8 RF Macro',        aperature : 'f/2.8',    focalLenght:'60.0 mm',    iso:'125' },
    { name:'SUNSHINE',                  imagesrc:'./images/photography/photo5.jpg',        redirectionURL: 'https://www.flickr.com/photos/198328132@N07/52976707847',   cameraImage: './images/icons/xt-5.png',  lensImage:'./images/icons/fujixf18-55.png',         camera:'Fujifilm XT-5',     lens:'Fujifilm XF18-55mm F2.8-4 R LM',  aperature : 'f/3.6',    focalLenght:'36.0 mm',    iso:'125' },
    { name:'WATER DROPLET',             imagesrc:'./images/photography/photo6.jpg',        redirectionURL: 'https://www.flickr.com/photos/198328132@N07/53074266972',   cameraImage: './images/icons/xt-5.png',  lensImage:'./images/icons/meike60mm.png',           camera:'Fujifilm XT-5',     lens:'Meike 60mm f2.8 RF Macro',        aperature : 'f/2.8',    focalLenght:'60.0 mm',    iso:'125' },
    { name:'BIRR SPRUCE',               imagesrc:'./images/photography/photo8.jpg',        redirectionURL: 'https://www.flickr.com/photos/198328132@N07/52930552225',   cameraImage: './images/icons/xt-5.png',  lensImage:'./images/icons/fujixf18-55.png',         camera:'Fujifilm XT-5',     lens:'Fujifilm XF18-55mm F2.8-4 R LM',  aperature : 'f/4.0',    focalLenght:'55.0 mm',    iso:'125' },
    { name:'LAKE BRIDGET REFLECTION',   imagesrc:'./images/photography/photo9.jpg',        redirectionURL: 'https://www.flickr.com/photos/198328132@N07/52921253750',   cameraImage: './images/icons/xt-5.png',  lensImage:'./images/icons/fujixf18-55.png',         camera:'Fujifilm XT-5',     lens:'Fujifilm XF18-55mm F2.8-4 R LM',  aperature : 'f/5.6',    focalLenght:'55.0 mm',    iso:'125' },
    { name:'LAKE BRIDGET SUNSET',       imagesrc:'./images/photography/photo10.jpg',       redirectionURL: 'https://www.flickr.com/photos/198328132@N07/52920889496',   cameraImage: './images/icons/xt-5.png',  lensImage:'./images/icons/fujixf18-55.png',         camera:'Fujifilm XT-5',     lens:'Fujifilm XF18-55mm F2.8-4 R LM',  aperature : 'f/5.6',    focalLenght:'55.0 mm',    iso:'125' },
    { name:'BIRR AQUILEGIA',            imagesrc:'./images/photography/photo7.jpg',        redirectionURL: 'https://www.flickr.com/photos/198328132@N07/52930237606',   cameraImage: './images/icons/xt-5.png',  lensImage:'./images/icons/fujixf18-55.png',         camera:'Fujifilm XT-5',     lens:'Fujifilm XF18-55mm F2.8-4 R LM',  aperature : 'f/5.6',    focalLenght:'55.0 mm',    iso:'125' },
]



window.addEventListener("DOMContentLoaded", (event) => {

    // document.getElementById('projectPopup').addEventListener("click", function() {closeProjectPopup(event);});

    displaySkills();
    initialiseProjects();
    initialisePhotos();
    initialiseEducation();

});


function displaySkills(){
    let min = calculateYears(new Date(skills[0].dateStarted))
    let max = calculateYears(new Date(skills[0].dateStarted))
    let boxWidth = 550;
    let maxSkillWidth = boxWidth/2;


    for (let i = 0; i < skills.length; i++) {
        if(calculateYears(new Date(skills[i].dateStarted)) > max){
            max = calculateYears(new Date(skills[i].dateStarted));
        }
        if(calculateYears(new Date(skills[i].dateStarted)) < min){
            min = calculateYears(new Date(skills[i].dateStarted));
        }
    }

    let amountOfYearsToDivide = (max - min) + 1;
    let skillYearInterval = maxSkillWidth/amountOfYearsToDivide;


    for (let i = 0; i < skills.length; i++) {
        console.log(skills[i])

        let div = document.getElementById('skillsDiv'); 

        div1 = document.createElement('div');

        let years = calculateYears(new Date(skills[i].dateStarted))

        let widthOfStatus = boxWidth - (skillYearInterval*(max-years));

        let yearsText;

        if(years == 1){
            yearsText = "year"
        }else{
            yearsText = "years" 
        }

        div1.innerHTML = `
                            <div class="skillBox">
                                <div class="skill alignTopBottom" style="width: `+widthOfStatus+`px;");>
                                    <div class="alignTopBottom skillTextBox" style="width: `+(widthOfStatus-45)+`px;">
                                        <div class="skillTextDiv" style="justify-content: start;">
                                            <h1 class="skillText">`+skills[i].name+`</h1>
                                        </div>
                                        <div class="skillTextDiv" style="justify-content: end;">
                                            <h1 class="skillText2">`+ years  +' ' +yearsText+`</h1>
                                        </div>
                                    </div>
                                    <div class="alignCenter skillImageDiv" style="background-color: `+skills[i].color+`;">
                                        <img class="skillImage" src="`+skills[i].imageLink+`" alt="`+skills[i].name+`">
                                    </div>
                                    
                                </div>
                            </div>
                        `


        div.appendChild(div1);
    }


}



function paginatorPhotoChange(startInt){

    // Photos

    photoList = document.getElementsByClassName("photoEntry");
    console.log(photoList)

    for (let i = 0; i < photoList.length; i++) {
        photoList[i].setAttribute("status", "0");
    }

    photoList[startInt*2].setAttribute("status", "1");
    photoList[(startInt*2) + 1].setAttribute("status", "1");

    // Paginator
    paginatorList = document.getElementsByClassName("alignCenter paginatorCircleDiv photoPaginator");

    for (let i = 0; i < paginatorList.length; i++) {
        paginatorList[i].setAttribute("status", "0");
    }

    paginatorList[startInt].setAttribute("status", "1");

}

function initialisePhotos(){

    // Photos
    for (let i = 0; i < photos.length; i++) {
        let div = document.getElementById('photoList'); 

        let status
        if(i == 0 || i == 1){
            status = 1;
        }else{
            status = 0;
        }

        div1 = document.createElement('div');


        div1.innerHTML = `
                        <a status="`+status+`" class="photoEntry" href="`+photos[i].redirectionURL+`" target="_blank">
                            <div class="photoDiv">
                                <div class="alignLeftRight bannerDiv">
                                    <div class="alignCenter banner">
                                        <h1 class="bannerText">`+photos[i].name+`</h1>
                                    </div>
                                </div>
                                <div class="alignLeftRight descriptionDivLeft">
                                    <div class="alignCenter banner">
                                        <div class="child">
                                            <img src="`+photos[i].cameraImage+`">
                                            <h6>`+photos[i].camera+`</h6>
                                        </div>
                                        <div class="child">
                                            <img src="`+photos[i].lensImage+`">
                                            <h6>`+photos[i].lens+`</h6>
                                        </div>
                                    </div>
                                </div>
                                <div class="alignLeftRight descriptionDivRight">
                                    <div class="alignCenter banner">
                                        <div class="child">
                                            <img src="./images/icons/aperature.png">
                                            <h6>`+photos[i].aperature+`</h6>
                                        </div>
                                        <div class="child">
                                            <img src="./images/icons/focalLenght.png">
                                            <h6>`+photos[i].focalLenght+`</h6>
                                        </div>
                                        <div class="child">
                                            <img src="./images/icons/iso.png">
                                            <h6>`+photos[i].iso+`</h6>
                                        </div>
                                    </div>
                                </div>
                                <img class="photo" src="`+photos[i].imagesrc+`" alt="`+photos[i].name+`">
                            </div>
                        </a>
                        `


        div.appendChild(div1);
    }

    // Paginator
    for (let i = 0; i < photos.length/2; i++) {

        let div2 = document.getElementById('photoPaginatorList'); 

        div1 = document.createElement('div');


        div1.innerHTML = `
                            <div status="`+i+`" class="alignCenter paginatorCircleDiv photoPaginator" ><div class="paginatorCircle"></div></div>
                        `

        div1.addEventListener("click", function() {paginatorPhotoChange(i);});

        div2.appendChild(div1);
    }


    paginatorPhotoChange(0);

}





function paginatorProjectChange(startInt){

    // Photos

    projectList = document.getElementsByClassName("projectEntry");
    console.log(projectList)

    for (let i = 0; i < projectList.length; i++) {
        projectList[i].setAttribute("status", "0");
    }

    projectList[startInt*2].setAttribute("status", "1");
    projectList[(startInt*2) + 1].setAttribute("status", "1");

    // Paginator
    paginatorList = document.getElementsByClassName("alignCenter paginatorCircleDiv projectPaginator");

    for (let i = 0; i < paginatorList.length; i++) {
        paginatorList[i].setAttribute("status", "0");
    }

    paginatorList[startInt].setAttribute("status", "1");

}


function initialiseProjects(){

    // Projects
    for (let i = 0; i < projects.length; i++) {
        let div = document.getElementById('projectList'); 

        let status
        if(i == 0 || i == 1){
            status = 1;
        }else{
            status = 0;
        }

        div1 = document.createElement('div');

        div1.addEventListener("click", function() {openProjectPopup(i);});

        div1.innerHTML = `
                            <div status="`+status+`" class="projectEntry" class="alignCenter">
                                <div class="projectDiv">
                                    <div class="projectTop">
                                        <div class="alignCenter projectSmallImageDiv">
                                            <img class="projectSmallImage" src="`+projects[i].smallImagesrc+`">
                                        </div>
                                        <div class="alignCenter projectHeadingDiv">
                                            <h1 class="projectHeading">`+projects[i].name+`</h1>
                                        </div>

                                        <div class="alignCenter projectIconDiv">
                                            <a style="display:'none'"><img id="projectInfo" src="./images/info.png" class="projectIcon" style="display:none"></a>
                                            <a class="linkAnimation" style="display:`+projects[i].redirectionURLStyle+`" href="`+projects[i].redirectionURL+`"><img src="./images/link.png" style="display:`+projects[i].redirectionURLStyle+`" alt=""></a>
                                        </div>
                                    </div>

                                    <div class="projectBottom">
                                        <div class="projectBigImage">
                                            <img src="`+projects[i].bigImagesrc+`">
                                        </div>
                                        <div class="projectDescriptionDiv">
                                            <div class="projectStatusParent">
                                                <div class="alignCenter projectStatusDiv">
                                                    <div class="projectStatusCircle" style="background-color: `+projects[i].statusColor+`;"></div>
                                                    <h1 class="projectStatusText">`+projects[i].status+`</h1>
                                                </div>
                                            </div>
                                            <div class="projectTextDescriptionDiv">
                                                `+projects[i].description+`
                                            </div>
                                            <div class="projectTagListDiv alignCenter">
                                                <div class="alignCenter projectTagDiv">
                                                    <h1 class="projectTagText">`+projects[i].tags[0]+`</h1>
                                                </div>
                                                <div class="alignCenter projectTagDiv">
                                                    <h1 class="projectTagText">`+projects[i].tags[1]+`</h1>
                                                </div>
                                                <div class="alignCenter projectTagDiv">
                                                    <h1 class="projectTagText">`+projects[i].tags[2]+`</h1>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        `

        div.appendChild(div1);
    }

    // Paginator
    for (let i = 0; i < projects.length/2; i++) {

        let div2 = document.getElementById('projectPaginator'); 

        div1 = document.createElement('div');


        div1.innerHTML = `
                            <div status="`+i+`" class="alignCenter paginatorCircleDiv projectPaginator" ><div class="paginatorCircle"></div></div>
                        `

        div1.addEventListener("click", function() {paginatorProjectChange(i);});

        div2.appendChild(div1);
    }


    paginatorProjectChange(0);

}



// function openProjectPopup(id){

//     console.log(id)

//     document.getElementById('projectPopupName').innerHTML = projects[id].name;
//     document.getElementById('projectPopupBigImage').src = projects[id].bigImagesrc;


//     document.getElementById('projectPopup').style.display = 'flex';
// }

// function closeProjectPopup(event){
//     console.log( console.log(event))
//     document.getElementById('projectPopup').style.display = 'none';
// }

function initialiseEducation(){

    document.getElementById('educationPaginator1').addEventListener("click", function() {paginatorEducationChange(0);});
    document.getElementById('educationPaginator2').addEventListener("click", function() {paginatorEducationChange(1);});

}


function paginatorEducationChange(number){

    if(number == 0){
        document.getElementById('education2').style.display = "none";
        document.getElementById('education1').style.display = "block";
        document.getElementById('educationPaginator1').setAttribute("status", "1");
        document.getElementById('educationPaginator2').setAttribute("status", "0");
    }else{
        document.getElementById('education1').style.display = "none";
        document.getElementById('education2').style.display = "block";
        document.getElementById('educationPaginator1').setAttribute("status", "0");
        document.getElementById('educationPaginator2').setAttribute("status", "1");
    }
}



function calculateYears(dateToCalculate) {
    var ageDifMs = Date.now() - dateToCalculate;
    var ageDate = new Date(ageDifMs); // miliseconds from epoch
    return Math.abs(ageDate.getUTCFullYear() - 1970);
}




// console.log(paginatorList[i].getAttribute("status"));
// paginatorList[i].setAttribute("status", "0");